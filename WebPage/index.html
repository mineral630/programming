<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="AI 기반 전자기기 스마트 진단 - 스마트폰, 노트북, 태블릿 등 모든 전자기기의 문제를 AI가 진단하고 해결책을 제시합니다">
  <title>AI 기반 전자기기 스마트 진단</title>
  <style>
    /* 기본 스타일 */
    :root {
      --primary: hsl(199, 89%, 48%);
      --secondary: hsl(217, 91%, 60%);
      --accent: hsl(173, 80%, 40%);
      --background: hsl(210, 40%, 98%);
      --foreground: hsl(222, 47%, 11%);
      --muted-foreground: hsl(215, 16%, 47%);
      --card: white;
      --border: hsl(214, 32%, 91%);
      --primary-foreground: white;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: var(--background);
      color: var(--foreground);
      line-height: 1.6;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }
    
    .hidden {
      display: none !important;
    }

    /* --- 홈페이지 스타일 (web.html) --- */

    /* Hero Section */
    .hero {
      position: relative;
      min-height: 600px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 5rem 1rem;
      overflow: hidden;
    }
    .hero-bg {
      position: absolute;
      inset: 0;
      background-color: #f0f4f8; 
      opacity: 0.3;
    }
    .hero-overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(to bottom, 
        hsla(210, 40%, 98%, 0.5), 
        hsla(210, 40%, 98%, 0.8), 
        hsl(210, 40%, 98%));
    }
    .hero-content {
      position: relative;
      z-index: 10;
      max-width: 56rem;
      text-align: center;
    }
    .hero-title {
      font-size: 3rem;
      font-weight: bold;
      margin-bottom: 1.5rem;
      background: linear-gradient(to right, var(--primary), var(--secondary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    @media (min-width: 768px) { .hero-title { font-size: 3.75rem; } }
    .hero-subtitle {
      font-size: 1.25rem;
      color: var(--muted-foreground);
      margin-bottom: 2rem;
      max-width: 42rem;
      margin-left: auto;
      margin-right: auto;
    }
    @media (min-width: 768px) { .hero-subtitle { font-size: 1.5rem; } }
    .hero-buttons {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      justify-content: center;
    }
    @media (min-width: 640px) { .hero-buttons { flex-direction: row; } }
    .btn {
      font-size: 1.125rem;
      padding: 1.5rem 2rem;
      font-weight: 600;
      border-radius: 0.75rem;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      text-decoration: none;
      display: inline-block;
      border: none;
    }
    .btn-primary {
      background: linear-gradient(to right, var(--primary), var(--secondary));
      color: var(--primary-foreground);
      box-shadow: 0 10px 40px -10px hsla(199, 89%, 48%, 0.2);
    }
    .btn-primary:hover {
      opacity: 0.9;
      box-shadow: 0 0 40px hsla(199, 89%, 65%, 0.3);
    }
    .btn-outline {
      background: var(--card);
      color: var(--primary);
      border: 2px solid var(--border);
    }
    .btn-outline:hover { border-color: var(--primary); }

    /* Features Section */
    .features { padding: 5rem 1rem; }
    .section-title {
      font-size: 1.875rem;
      font-weight: bold;
      text-align: center;
      margin-bottom: 1rem;
    }
    @media (min-width: 768px) { .section-title { font-size: 2.25rem; } }
    .section-subtitle {
      text-align: center;
      color: var(--muted-foreground);
      margin-bottom: 4rem;
      font-size: 1.125rem;
    }
    .grid { display: grid; gap: 2rem; }
    @media (min-width: 768px) { .grid-3 { grid-template-columns: repeat(3, 1fr); } }
    .feature-card {
      background: var(--card);
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 10px 30px -10px hsla(0, 0%, 0%, 0.1);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .feature-card:hover {
      box-shadow: 0 20px 50px -10px hsla(0, 0%, 0%, 0.15);
      transform: translateY(-4px);
    }
    .feature-icon {
      width: 3.5rem;
      height: 3.5rem;
      border-radius: 0.75rem;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
    }
    .icon-gradient-1 { background: linear-gradient(to bottom right, var(--primary), var(--secondary)); }
    .icon-gradient-2 { background: linear-gradient(to bottom right, var(--secondary), var(--accent)); }
    .icon-gradient-3 { background: linear-gradient(to bottom right, var(--accent), var(--primary)); }
    .feature-title { font-size: 1.25rem; font-weight: 600; margin-bottom: 0.75rem; }
    .feature-desc { color: var(--muted-foreground); }
    .icon {
      width: 1.75rem;
      height: 1.75rem;
      stroke: white;
      stroke-width: 2;
      fill: none;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    /* Categories Section */
    .categories { padding: 5rem 1rem; background: hsla(210, 40%, 96%, 0.3); }
    .category-card {
      background: var(--card);
      padding: 1.5rem;
      border-radius: 1rem;
      box-shadow: 0 4px 20px -4px hsla(0, 0%, 0%, 0.1);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      text-align: left;
      cursor: pointer;
      border: none;
      width: 100%;
      text-decoration: none; /* <a> 태그의 밑줄 제거 */
    }
    .category-card:hover {
      box-shadow: 0 20px 50px -10px hsla(0, 0%, 0%, 0.15);
      transform: translateY(-8px);
    }
    .category-icon {
      width: 3.5rem;
      height: 3.5rem;
      border-radius: 0.75rem;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1rem;
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .category-card:hover .category-icon { transform: scale(1.1); }
    .gradient-blue-cyan { background: linear-gradient(to bottom right, hsl(217, 91%, 60%), hsl(189, 94%, 53%)); }
    .gradient-cyan-teal { background: linear-gradient(to bottom right, hsl(189, 94%, 53%), hsl(173, 80%, 40%)); }
    .gradient-teal-green { background: linear-gradient(to bottom right, hsl(173, 80%, 40%), hsl(142, 76%, 36%)); }
    .gradient-blue-indigo { background: linear-gradient(to bottom right, hsl(217, 91%, 60%), hsl(239, 84%, 67%)); }
    .gradient-indigo-purple { background: linear-gradient(to bottom right, hsl(239, 84%, 67%), hsl(291, 64%, 42%)); }
    .gradient-purple-pink { background: linear-gradient(to bottom right, hsl(291, 64%, 42%), hsl(330, 81%, 60%)); }
    .category-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      transition: color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      color: var(--foreground); /* 링크 기본 색상 초기화 */
    }
    .category-card:hover .category-title { color: var(--primary); }
    .category-desc { color: var(--muted-foreground); font-size: 0.875rem; }

    /* CTA Section */
    .cta { padding: 5rem 1rem; }
    .cta-box {
      max-width: 56rem;
      margin: 0 auto;
      text-align: center;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      border-radius: 1.5rem;
      padding: 3rem;
      box-shadow: 0 25px 50px -12px hsla(199, 89%, 48%, 0.25);
    }
    .cta-title {
      font-size: 1.875rem;
      font-weight: bold;
      color: white;
      margin-bottom: 1rem;
    }
    @media (min-width: 768px) { .cta-title { font-size: 2.25rem; } }
    .cta-subtitle { color: hsla(0, 0%, 100%, 0.9); font-size: 1.125rem; margin-bottom: 2rem; }
    .btn-cta {
      background: white;
      color: var(--primary);
      box-shadow: 0 10px 40px -10px hsla(0, 0%, 0%, 0.3);
    }
    .btn-cta:hover {
      background: hsla(0, 0%, 100%, 0.9);
      box-shadow: 0 20px 50px -10px hsla(0, 0%, 0%, 0.4);
    }

    /* --- 진단 페이지 (Diagnose) 스타일 --- */
    .diagnose-page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    .diagnose-header {
      position: sticky;
      top: 0;
      z-index: 50;
      border-bottom: 1px solid var(--border);
      background: hsla(210, 40%, 98%, 0.8); /* 반투명 배경 */
      backdrop-filter: blur(8px); /* 블러 효과 */
      -webkit-backdrop-filter: blur(8px);
    }
    
    .header-content {
      max-width: 56rem;
      margin: 0 auto;
      padding: 1rem;
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .back-btn {
      background: none;
      border: none;
      border-radius: 50%;
      width: 2.5rem;
      height: 2.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background-color 0.2s;
    }
    .back-btn:hover {
      background: hsla(199, 89%, 48%, 0.1);
    }
    .back-btn svg {
      width: 1.25rem;
      height: 1.25rem;
      stroke: var(--foreground);
      stroke-width: 2.5;
    }
    
    .diagnose-title {
      font-size: 1.25rem;
      font-weight: 600;
    }

    /* 채팅 메인 */
    .chat-main {
      flex: 1;
      max-width: 56rem;
      width: 100%;
      margin: 0 auto;
      padding: 1rem;
      display: flex;
      flex-direction: column;
      height: calc(100vh - 65px); /* 헤더 높이 제외 */
    }

    /* 메시지 영역 */
    .chat-messages {
      flex: 1;
      overflow-y: auto;
      margin-bottom: 1rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      padding-right: 0.5rem; /* 스크롤바 공간 */
    }
    
    .chat-message {
      display: flex;
      max-width: 80%;
    }
    .chat-message p {
      padding: 1rem 1.5rem;
      border-radius: 1.5rem;
      line-height: 1.5;
      word-break: break-word;
      white-space: pre-wrap;
    }
    
    .chat-message.user {
      justify-content: flex-end;
      align-self: flex-end;
    }
    .chat-message.user p {
      background: linear-gradient(to right, var(--primary), var(--secondary));
      color: var(--primary-foreground);
      border-bottom-right-radius: 0.5rem;
    }
    
    .chat-message.assistant {
      justify-content: flex-start;
      align-self: flex-start;
    }
    .chat-message.assistant p {
      background: var(--card);
      border: 1px solid var(--border);
      box-shadow: 0 4px 10px -2px hsla(0, 0%, 0%, 0.05);
      color: var(--foreground);
      border-bottom-left-radius: 0.5rem;
    }

    /* 로딩 인디케이터 */
    .chat-message.thinking {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background: var(--card);
      border: 1px solid var(--border);
      box-shadow: 0 4px 10px -2px hsla(0, 0%, 0%, 0.05);
      border-radius: 1.5rem;
      padding: 1rem 1.5rem;
      border-bottom-left-radius: 0.5rem;
    }
    .spinner {
      width: 1rem;
      height: 1rem;
      border: 2px solid var(--muted-foreground);
      border-top-color: transparent;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* 입력 영역 */
    .chat-input-area {
      border-top: 1px solid var(--border);
      background: hsla(210, 40%, 98%, 0.8);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      padding: 1rem;
      display: flex;
      gap: 0.5rem;
    }
    
    .chat-textarea {
      flex: 1;
      min-height: 60px;
      max-height: 200px;
      resize: none;
      padding: 1rem;
      border-radius: 0.75rem;
      border: 1px solid var(--border);
      font-family: inherit;
      font-size: 1rem;
    }
    .chat-textarea:focus {
      outline: 2px solid var(--primary);
      border-color: transparent;
    }
    
    .send-btn {
      width: 60px;
      height: 60px;
      border: none;
      border-radius: 0.75rem;
      cursor: pointer;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      color: var(--primary-foreground);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.2s;
    }
    .send-btn:hover {
      opacity: 0.9;
    }
    .send-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .send-btn svg {
      width: 1.5rem;
      height: 1.5rem;
      stroke: var(--primary-foreground);
      stroke-width: 2;
    }
    .send-btn .spinner {
      width: 1.5rem;
      height: 1.5rem;
      border-color: var(--primary-foreground);
      border-top-color: transparent;
    }

  </style>
</head>
<body>

  <div id="page-index">
    <section class="hero">
      <div class="hero-bg"></div>
      <div class="hero-overlay"></div>
      <div class="hero-content">
        <h1 class="hero-title">전자기기 문제, AI가 해결합니다</h1>
        <p class="hero-subtitle">
          스마트폰, 노트북, 태블릿 등 모든 전자기기의 문제를 AI가 진단하고 해결책을 제시합니다
        </p>
        <div class="hero-buttons">
          <a href="#" class="btn btn-primary" data-navigate="diagnose">진단 시작하기</a>
          <a href="#categories" class="btn btn-outline">기기 카테고리 보기</a>
        </div>
      </div>
    </section>

    <section class="features">
      <div class="container">
        <h2 class="section-title">AI 기반 스마트 진단</h2>
        <p class="section-subtitle">전자기기 문제를 빠르고 정확하게 해결하세요</p>
        <div class="grid grid-3">
          <div class="feature-card">
            <div class="feature-icon icon-gradient-1">
              <svg class="icon" viewBox="0 0 24 24">
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
              </svg>
            </div>
            <h3 class="feature-title">즉시 진단</h3>
            <p class="feature-desc">AI가 문제를 실시간으로 분석하여 빠르게 해결책을 제시합니다</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon icon-gradient-2">
              <svg class="icon" viewBox="0 0 24 24">
                <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
              </svg>
            </div>
            <h3 class="feature-title">맞춤 솔루션</h3>
            <p class="feature-desc">기기별 특성을 고려한 정확한 해결 방법을 제공합니다</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon icon-gradient-3">
              <svg class="icon" viewBox="0 0 24 24">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"></path>
              </svg>
            </div>
            <h3 class="feature-title">전문가 수준</h3>
            <p class="feature-desc">수천 건의 사례를 학습한 AI가 전문가 수준의 조언을 제공합니다</p>
          </div>
        </div>
      </div>
    </section>

    <section id="categories" class="categories">
      <div class="container">
        <h2 class="section-title">어떤 기기를 진단하시겠습니까?</h2>
        <p class="section-subtitle">카테고리를 선택하고 문제를 설명하세요</p>
        <div class="grid grid-3">
          <a class="category-card" href="diagnose-smartphone.html">
            <div class="category-icon gradient-blue-cyan">
              <svg class="icon" viewBox="0 0 24 24"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line></svg>
            </div>
            <h3 class="category-title">스마트폰</h3>
            <p class="category-desc">화면, 배터리, 성능 문제</p>
          </a>

          <a class="category-card" href="diagnose-laptop.html">
            <div class="category-icon gradient-cyan-teal">
              <svg class="icon" viewBox="0 0 24 24"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline></svg>
            </div>
            <h3 class="category-title">노트북</h3>
            <p class="category-desc">부팅, 속도, 하드웨어 문제</p>
          </a>

          <a class="category-card" href="diagnose-tablet.html">
            <div class="category-icon gradient-teal-green">
              <svg class="icon" viewBox="0 0 24 24"><rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line></svg>
            </div>
            <h3 class="category-title">태블릿</h3>
            <p class="category-desc">터치, 배터리, 앱 문제</p>
          </a>

          <a class="category-card" href="diagnose-monitor.html">
            <div class="category-icon gradient-blue-indigo">
              <svg class="icon" viewBox="0 0 24 24"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg>
            </div>
            <h3 class="category-title">모니터</h3>
            <p class="category-desc">화면, 연결, 색상 문제</p>
          </a>

          <a class="category-card" href="diagnose-audio.html">
            <div class="category-icon gradient-indigo-purple">
              <svg class="icon" viewBox="0 0 24 24"><path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path></svg>
            </div>
            <h3 class="category-title">이어폰/헤드폰</h3>
            <p class="category-desc">소리, 연결, 충전 문제</p>
          </a>

          <a class="category-card" href="diagnose-watch.html">
            <div class="category-icon gradient-purple-pink">
              <svg class="icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path></svg>
            </div>
            <h3 class="category-title">스마트워치</h3>
            <p class="category-desc">배터리, 센서, 연결 문제</p>
          </a>
        </div>
      </div>
    </section>

    <section class="cta">
      <div class="cta-box">
        <h2 class="cta-title">지금 바로 진단 시작하기</h2>
        <p class="cta-subtitle">AI가 여러분의 기기 문제를 해결해 드립니다</p>
        <a href="#" class="btn btn-cta" data-navigate="diagnose">무료로 진단받기</a>
      </div>
    </section>
  </div>

  <div id="page-diagnose" class="diagnose-page hidden">
    <header class="diagnose-header">
      <div class="header-content">
        <button id="back-button" class="back-btn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
        </button>
        <h1 class="diagnose-title">AI 기기 진단</h1>
      </div>
    </header>

    <main class="chat-main">
      <div id="chat-messages" class="chat-messages">
        <div class="chat-message assistant">
          <p>안녕하세요! AI 진단 봇입니다. 어떤 문제가 있으신가요? 기기 종류와 문제 증상을 자세히 설명해주세요. (예: 스마트폰 배터리가 너무 빨리 닳아요)</p>
        </div>
      </div>

      <div class="chat-input-area">
        <textarea id="chat-input" placeholder="기기 문제를 설명해주세요..." class="chat-textarea"></textarea>
        <button id="send-button" class="send-btn" disabled>
          <svg class="send-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <line x1="22" y1="2" x2="11" y2="13"></line>
            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
          </svg>
          <div class="spinner hidden"></div>
        </button>
      </div>
    </main>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {

      // --- 페이지 요소 가져오기 ---
      const pageIndex = document.getElementById('page-index');
      const pageDiagnose = document.getElementById('page-diagnose');
      
      // --- 네비게이션 버튼 ---
      // '진단하기'로 이동하는 버튼 (카테고리 카드는 여기서 제외됨)
      const navigateButtons = document.querySelectorAll('[data-navigate="diagnose"]');
      // '홈으로' 돌아가기 버튼
      const backButton = document.getElementById('back-button');

      // --- 채팅 요소 ---
      const chatMessages = document.getElementById('chat-messages');
      const chatInput = document.getElementById('chat-input');
      const sendButton = document.getElementById('send-button');
      const sendIcon = sendButton.querySelector('.send-icon');
      const sendSpinner = sendButton.querySelector('.spinner');

      // --- 페이지 전환 로직 ---
      function showDiagnosePage() {
        pageIndex.classList.add('hidden');
        pageDiagnose.classList.remove('hidden');
        window.scrollTo(0, 0); // 페이지 상단으로 스크롤
      }

      function showIndexPage() {
        pageDiagnose.classList.add('hidden');
        pageIndex.classList.remove('hidden');
      }

      // '진단하기' 버튼들(Hero, CTA)에 이벤트 리스너 추가
      navigateButtons.forEach(button => {
        button.addEventListener('click', (e) => {
          e.preventDefault(); // 기본 동작(링크 이동) 방지
          showDiagnosePage();
        });
      });

      // '뒤로가기' 버튼에 이벤트 리스너 추가
      backButton.addEventListener('click', showIndexPage);

      // --- 가상(Mock) 채팅 로직 ---

      // 입력창 감지하여 전송 버튼 활성화
      chatInput.addEventListener('input', () => {
        if (chatInput.value.trim().length > 0) {
          sendButton.disabled = false;
        } else {
          sendButton.disabled = true;
        }
      });

      // 메시지 전송 함수
      function sendMessage() {
        const messageText = chatInput.value.trim();
        if (messageText === '') return;

        addMessage(messageText, 'user');
        chatInput.value = '';
        sendButton.disabled = true;
        setLoading(true);

        setTimeout(() => {
          setLoading(false);
          const mockResponse = getMockResponse(messageText);
          addMessage(mockResponse, 'assistant');
        }, 1500);
      }
      
      // 전송 버튼 클릭
      sendButton.addEventListener('click', sendMessage);

      // Enter 키로 전송 (Shift+Enter는 줄바꿈)
      chatInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          sendMessage();
        }
      });

      // 메시지를 채팅창에 추가하는 함수
      function addMessage(content, role) {
        const messageDiv = document.createElement('div');
        messageDiv.className = `chat-message ${role}`;
        
        const p = document.createElement('p');
        p.textContent = content;
        messageDiv.appendChild(p);
        
        chatMessages.appendChild(messageDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }

      // 로딩 상태 설정 함수
      function setLoading(isLoading) {
        if (isLoading) {
          sendIcon.classList.add('hidden');
          sendSpinner.classList.remove('hidden');
          chatInput.disabled = true;
          sendButton.disabled = true;
          
          const thinkingDiv = document.createElement('div');
          thinkingDiv.id = 'thinking-message';
          thinkingDiv.className = 'chat-message assistant thinking';
          thinkingDiv.innerHTML = '<div class="spinner"></div> <span>분석 중...</span>';
          chatMessages.appendChild(thinkingDiv);
          chatMessages.scrollTop = chatMessages.scrollHeight;

        } else {
          const thinkingDiv = document.getElementById('thinking-message');
          if (thinkingDiv) {
            thinkingDiv.remove();
          }
          
          sendIcon.classList.remove('hidden');
          sendSpinner.classList.add('hidden');
          chatInput.disabled = false;
          chatInput.focus();
        }
      }
      
      // 간단한 가상 응답 생성기
      function getMockResponse(inputText) {
        const lowerInput = inputText.toLowerCase();
        
        if (lowerInput.includes('배터리')) {
          return "배터리 문제시군요. 기기 설정 > 배터리 메뉴에서 어떤 앱이 배터리를 많이 소모하는지 확인해보세요. 또한, 화면 밝기를 줄이고 불필요한 백그라운드 앱을 종료하는 것이 좋습니다.";
        } else if (lowerInput.includes('느려')) {
          return "기기가 느려졌군요. 먼저 기기를 재부팅해보시겠어요? 그래도 느리다면 저장 공간이 부족하지 않은지 확인하고, 불필요한 파일이나 앱을 정리해보세요.";
        } else if (lowerInput.includes('화면')) {
          return "화면 문제군요. 화면 깜빡임이나 터치 불량인지, 아니면 화면이 나오지 않는지 좀 더 자세히 알려주시겠어요? 우선 강제 재부팅을 시도해보세요.";
        } else {
          return "말씀하신 내용을 접수했습니다. 우선 가장 일반적인 해결 방법인 기기 재부팅을 시도해보시는 것을 권장합니다. 문제가 지속되면 모델명과 함께 다시 알려주세요.";
        }
      }

    });
  </script>
</body>
</html>
