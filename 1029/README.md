# 8장
### 1. HTML DOM의 정의와 목적

HTML DOM(Document Object Model)은 브라우저가 웹 페이지의 HTML 태그마다 생성하는 객체(DOM 객체)를 다루는 모델입니다[cite: 43, 45]. [cite_start]DOM이 필요한 주된 이유는 자바스크립트를 사용해 **HTML 태그의 출력 모양이나 콘텐츠를 동적으로 제어**하기 위해서입니다[cite: 6, 47].

DOM 객체를 통해 다음과 같은 작업을 수행할 수 있습니다
* 각 HTML 태그의 CSS3 스타일 시트에 접근하고 변경할 수 있습니다
* HTML 태그가 출력한 텍스트나 이미지를 변경할 수 있습니다

### 2. DOM 트리 구조

브라우저는 HTML 문서를 읽어들일 때, 태그들의 포함 관계(부모-자식 관계)에 따라 DOM 객체들로 구성된 **트리(tree) 구조**를 생성합니다

* 루트(Root):** DOM 트리의 가장 최상위 루트는 `document` 객체입니다
* 노드(Node):** 트리의 각 노드는 DOM 객체이며 , HTML 태그 당 하나씩 생성됩니다
* **렌더링 과정:** 브라우저는 DOM 트리가 완성되면, 이 트리를 기반으로 HTML 태그(DOM 객체)를 화면에 그립니다
* 만약 자바스크립트에 의해 DOM 객체가 변경되면, 브라우저는 해당 HTML 태그의 출력 모양을 즉시 갱신합니다

### 3. DOM 객체의 구성 요소

HTML 태그는 태그 이름, 속성(attribute), CSS3 스타일, 이벤트 리스너, 콘텐츠(innerHTML)로 구성됩니다

DOM 객체는 이러한 HTML 태그의 요소들을 반영하여 5가지 주요 구성 요소를 가집니다
1.  **프로퍼티 (Property):** HTML 태그의 속성을 반영합니다
    * 예: `<p id="firstP">` 태그의 `id` 속성은 DOM 객체의 `id` 프로퍼티("firstP")가 됩니다`innerHTML`, `tagName`  등도 주요 프로퍼티입니다.
2.  **메소드 (Method):** HTML 태그를 제어하는 기능을 하는 DOM 객체의 멤버 함수입니다
    * 예: `setAttribute()`, `focus()` 등
3.  **컬렉션 (Collection):** 자식 DOM 객체들의 목록처럼 배열과 비슷한 집합적 정보입니다
    * 예: `children` (자식 객체 목록)
4.  **이벤트 리스너 (Event Listener):** HTML 태그에 작성된 이벤트 리스너를 반영합니다
    * 예: `onclick`, `onkeydown` 등
5.  **CSS3 스타일:** 태그에 설정된 CSS3 스타일 정보를 반영하며, DOM 객체의 `style` 프로퍼티를 통해 접근하고 제어할 수 있습니다

### 4. DOM 객체 접근 및 제어

자바스크립트로 DOM을 제어하기 위해 먼저 원하는 DOM 객체를 찾아야 합니다.

* **`document.getElementById(id)`:** `id` 속성을 이용해 특정 DOM 객체 하나를 찾는 가장 일반적인 방법입니다
* **`document.getElementsByTagName(name)`:** 태그 이름을 기준으로 해당하는 모든 DOM 객체를 컬렉션(배열과 유사)으로 찾아 반환합니다
* **`document.getElementsByClassName(name)`:** `class` 속성값이 같은 모든 DOM 객체를 컬렉션으로 찾아 반환합니다

객체를 찾은 후에는 프로퍼티를 변경하여 HTML을 제어합니다.

* **스타일 변경:** `객체.style.프로퍼티명`을 사용합니다
    * 이때 CSS 속성명이 `background-color`처럼 하이픈(-)을 포함하면, 자바스크립트에서는 `backgroundColor`처럼 카멜 케이스(camelCase) 표기법을 사용해야 합니다
* **콘텐츠 변경:** `객체.innerHTML` 프로퍼티는 태그의 시작과 끝 태그 사이의 HTML 콘텐츠를 의미합니다
* 이 값을 변경하면 화면에 보이는 내용이 즉시 바뀝니다
* **`this` 키워드:** DOM 객체의 이벤트 리스너(예: `onclick`) 내에서 `this` 키워드를 사용하면, 이벤트가 발생한 DOM 객체 자신을 가리킵니다

### 5. document 객체

`document` 객체는 HTML 문서 전체를 대변하는 객체이자, DOM 트리의 최상위 객체(루트)입니다
브라우저는 HTML 문서를 로드하기 전에 `document` 객체를 먼저 생성합니다

* `document` 객체는 `style` 프로퍼티가 없는 등, 일반적인 HTML 태그의 DOM 객체와는 구별됩니다
* `location` (현재 URL 정보), `title` (문서 제목), `readyState` (로딩 상태), `activeElement` (현재 포커스를 가진 요소) 등 문서 전반에 대한 프로퍼티를 가집니다.

**`document.write()` 메소드:**
`document.write()`는 **HTML 페이지가 로드되는 과정**에서 document 객체에 HTML 콘텐츠를 추가하는 메소드입니다
`writeln()`은 출력 끝에 줄바꿈 문자(\n)를 추가하지만, 실제 화면에서는 공백 한 칸 정도로만 보일 뿐 줄바꿈이 되지는 않습니다

> **[중요] `write()` 사용 시 주의사항:**
> `document.write()`를 HTML 문서 로딩이 **완료된 후** (예: 버튼 클릭 이벤트 등) 호출하면, 브라우저는 현재 문서를 모두 지우고 `write()`로 전달된 내용으로 새 문서를 엽니다.

**`document.open()` / `close()`:**
`document.open()`은 현재 브라우저의 HTML 콘텐츠를 지우고 새 페이지를 시작하며, `document.close()`는 `write()`로 콘텐츠 작성을 완료했음을 알립니다.
이는 주로 `window.open()`으로 연 새 창에 동적으로 HTML을 작성할 때 사용됩니다

### 6. 문서의 동적 구성 (DOM 객체 추가/삭제)

문서 로딩이 완료된 후에도 DOM 객체를 동적으로 생성, 삽입, 삭제할 수 있습니다.

1.  **생성:** `document.createElement("태그이름")` 메소드를 호출하여 메모리에 새로운 DOM 객체를 생성합니다
2.  **수정:** 생성된 객체의 `innerHTML`이나 `style` 등을 설정합니다
3.  **삽입:** `부모객체.appendChild(생성한자식객체)` 메소드를 사용하여 생성한 객체를 DOM 트리의 자식으로 추가합니다
4.  **삭제:** `부모객체.removeChild(삭제할자식객체)` 메소드를 사용하여 DOM 트리에서 특정 자식 객체를 제거합니다

# 9장
### 1\. 이벤트 및 이벤트 리스너의 개념

  * **이벤트(Event):** 사용자의 입력 행위(마우스 클릭, 키보드 입력)나 브라우저의 상태 변화(문서 로딩 완료) 등을 자바스크립트 코드에게 알리는 \*\*통지(notification)\*\*입니다
  * **이벤트 리스너(Event Listener):** 특정 이벤트가 발생했을 때 이를 처리하기 위해 작성된 자바스크립트 코드(함수)를 의미합니다[cite: 901]. 이벤트 이름 앞에 `on`을 붙여 리스너 이름을 짓습니다 (예: `click` 이벤트의 리스너는 `onclick`)

-----

### 2\. 이벤트 리스너 작성 3가지 방법

이벤트 리스너를 등록하는 방법은 크게 3가지가 있습니다[cite: 947].

1.  **HTML 태그 내 작성:** HTML 태그의 속성으로 리스너 코드를 직접 작성합니다
      * `예: <p onmouseover="this.style.backgroundColor='orchid'">...</p>`
2.  **DOM 객체 프로퍼티에 작성:** DOM 객체를 찾은 뒤, 해당 객체의 이벤트 리스너 프로퍼티(예: `onmouseover`)에 함수를 할당합니다
      * `예: let p = document.getElementById("p"); p.onmouseover = over;` (이때 `over()`처럼 괄호를 붙이면 안 됩니다)
3.  **`addEventListener()` 메소드 사용:** DOM 객체의 이 메소드를 사용하여 리스너를 등록합니다
      * `예: p.addEventListener("mouseover", over);
      * 이 방식은 캡처/버블 단계를 지정할 수 있습니다 (3번째 인자)

> **익명 함수(Anonymous Function):**
> 함수 이름 없이 코드의 본체를 바로 작성하는 방식입니다[cite: 1094]. 리스너 코드가 짧거나 한 곳에서만 쓰일 때 유용하며, 위 2, 3번 방법에서 모두 사용할 수 있습니다

-----

### 3\. 이벤트 객체 (Event Object)

이벤트가 발생하면, 브라우저는 해당 이벤트에 관한 상세 정보를 담은 **이벤트 객체**를 생성하여 이벤트 리스너 함수로 전달합니다
  * **전달받는 법:** 리스너 함수의 첫 번째 매개변수(보통 `e` 또는 `event`로 이름 짓)로 받습니다. HTML 태그 내에서는 `event`라는 이름으로 접근할 수 있습니다
  * **주요 프로퍼티:**
      * `type`: 발생한 이벤트의 종류 (예: "click")[cite: 1235].
      * `target`: 이벤트가 **최초 발생한** 객체 (이벤트를 유발시킨 객체
      * `currentTarget`: 현재 이벤트 리스너가 **실행되고 있는** 객체

-----

### 4\. 이벤트 흐름 (Event Flow)

이벤트가 발생하면 DOM 트리를 따라 흐르는 경로가 있으며, 이는 두 단계로 나뉩니다

1.  **캡처 단계 (Capturing Phase):** 이벤트가 `window` 객체에서 시작하여 DOM 트리를 따라 **아래로** 내려가며 이벤트 타겟 객체까지 도달하는 과정입니다
2.  **버블 단계 (Bubbling Phase):** 이벤트가 타겟 객체에서 다시 DOM 트리를 따라 **위로** 올라가며 `window` 객체까지 전달되는 과정입니다

<!-- end list -->

  * `addEventListener(type, listener, useCapture)`에서 3번째 매개변수 `useCapture`를 `true`로 설정하면 캡처 단계의 리스너로, `false`나 생략 시(디폴트) 버블 단계의 리스너로 등록됩니다
  * `.onclick`이나 HTML 속성으로 등록한 리스너는 **항상 버블 리스너**로 작동합니다
  * 이벤트 흐름 중단: 이벤트 객체의 `event.stopPropagation()` 메소드를 호출하면, 현재 리스너 실행 후 다음 단계로의 전파(캡처 또는 버블)를 중단시킵니다

-----

### 5\. 이벤트 디폴트 행동 취소

특정 태그는 이벤트에 대한 기본(디폴트) 행동을 가집니다  (예: `<a>` 태그의 `click`은 페이지 이동, `<form>`의 `submit`은 데이터 전송

이러한 기본 행동은 두 가지 방법으로 막을 수 있습니다:

1.  이벤트 리스너에서 `return false;`를 실행합니다
2.  이벤트 객체의 `event.preventDefault();` 메소드를 호출합니다

-----

### 6\. 주요 이벤트 유형

#### 🖱️ 마우스 이벤트

  * `onclick` / `ondblclick`: HTML 태그를 클릭 / 더블 클릭할 때
  * `onmousedown` / `onmouseup`: 마우스 버튼을 누르는 순간 / 놓는 순간
  * `onmouseover` / `onmouseout`: 마우스가 태그 위로 올라오거나 벗어나는 순간 (자식 요소를 포함하여 버블링 발생)
  * `onmouseenter` / `onmouseleave`: 마우스가 태그 영역에 들어오거나 나가는 순간 (버블링 없음)
  * `onmousemove`: 마우스가 태그 위에서 움직이는 동안 계속 발생. `e.clientX`, `e.screenX`, `e.offsetX` 등으로 좌표 값을 얻을 수 있습니다
  * `onwheel`: 마우스 휠이 굴러갈 때 발생. `e.wheelDelta` 값이 양수(위) 또는 음수(아래)로 나타납니다
  * `oncontextmenu`: 마우스 오른쪽 버튼을 클릭할 때. 리스너에서 `false`를 리턴하면 '소스 보기' 등의 컨텍스트 메뉴가 뜨는 것을 막을 수 있습니다

#### 📄 로딩 이벤트

  * **문서 `onload`:** 웹 페이지의 모든 리소스(HTML, 이미지 등)가 로드 완료되면 `window` 객체(또는 `<body>` 태그)에서 발생합니다
  * **이미지 `onload`:** `Image` 객체(\<img\> 태그)의 `src` 속성으로 지정된 이미지 로딩이 완료되면 발생합니다
      * **주의:** `img.src = "..."` 코드는 비동기로 작동합니다. 따라서 이미지 로딩 직후 `img.width` 같은 속성을 읽으면 0이 나올 수 있습니다. 이미지의 크기 같은 속성은 **반드시 `img.onload` 리스너 함수 안에서** 읽어야 정확합니다
  * `new Image()`: 자바스크립트로 이미지 객체를 생성하여 미리 로딩(pre-loading)하는 데 사용할 수 있습니다

#### ⌨️ 폼 및 키보드 이벤트

  * `onfocus` / `onblur`: HTML 요소가 포커스(키 입력 독점권)를 얻을 때 / 잃을 때 발생합니다
  * `onchange`: `<select>` 태그(콤보박스)에서 선택된 옵션이 변경될 때 발생합니다
  * `onkeydown`: **모든 키**가 눌러지는 순간에 발생합니다
  * `onkeypress`: **문자 키**(\<Enter\>, \<Space\> 포함)가 눌러지는 순간에만 발생합니다 (F1, Shift 등은 제외)
  * `onkeyup`: 눌러진 키가 떼어지는 순간에 발생합니다
      * 키 이벤트 객체는 `e.key` (키의 문자값)나 `e.code` (물리적 키 코드) 같은 프로퍼티를 가집니다
  * `onreset` / `onsubmit`: `<form>` 태그에 설정하며, 각각 `reset` 버튼 / `submit` 버튼을 클릭했을 때 발생합니다. 리스너에서 `false`를 리턴하면 폼의 초기화나 전송을 막을 수 있습니다

웹사이트 기획하기
10000명 이상에게 도움이 될 수 있는 사이트 만들기
-수정의 수정의 수정을 해서 10번정도 프롬 만들기
